<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>dialog</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Gnocl"
HREF="index.html"><LINK
REL="UP"
TITLE="Top Level Windows"
HREF="x351.html#AEN583"><LINK
REL="PREVIOUS"
TITLE="Commands"
HREF="x351.html"><LINK
REL="NEXT"
TITLE="window"
HREF="r796.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Gnocl</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x351.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="r796.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="DIALOG"
></A
>dialog</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN589"
></A
><H2
>Name</H2
>dialog&nbsp;--&nbsp;A top level window with standard layout.</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN592"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>dialog</B
>  [<TT
CLASS="REPLACEABLE"
><I
>-option</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
>...]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN598"
></A
><H2
>Screenshot</H2
><P
><IMG
SRC="../pics/dialog.png"></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN602"
></A
><H2
>Options</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>-allowGrow</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>boolean</SPAN
>
            </P
><P
>Whether the window may be greater than its children
require.</P
></DD
><DT
>-allowShrink</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>boolean</SPAN
>
            </P
><P
>Whether the window can be made smaller than the place that
its children require.</P
></DD
><DT
>-buttons</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>list</SPAN
> (default: %#Ok)
            </P
><P
>List of buttons to be displayed. An element of the
list can be either the name of a stock button ("%#Cancel"),
pure text, a list of a button ID created via the
gnocl::button command and a value which shall be returned
if this button is selected, or a list of text (either pure
text or a PERCENTSTRING) and a stock
icon ("%#Ok"), in which case the value of the stock icon
is returned, if the button is selected.</P
></DD
><DT
>-child</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>widget-ID</SPAN
>
            </P
><P
>The widget to be shown. This option or -text is required.</P
></DD
><DT
>-defaultButton</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>integer</SPAN
>
            </P
><P
>Selects the default button which can normally be chosen
by simply pressing return. The last button is selected
per default (see HIG).</P
></DD
><DT
>-defaultHeight</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>integer</SPAN
>
            </P
><P
>Default height of the window.</P
></DD
><DT
>-defaultWidth</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>integer</SPAN
>
            </P
><P
>Default width of the window.</P
></DD
><DT
>-dragTargets</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>list of strings</SPAN
>
            </P
><P
>List of source targets
(e.g. text/plain or application/x-color)
which are supported.</P
></DD
><DT
>-dropTargets</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>list of strings</SPAN
>
            </P
><P
>List of destination targets
(e.g. text/plain or application/x-color)
which are supported.</P
></DD
><DT
>-icon</DT
><DD
><P
>type: <A
HREF="x165.html#PERCENTSTRING"
><SPAN
CLASS="TYPE"
>percent-string</SPAN
></A
> (default: "")
            </P
><P
>Sets the icon of the dialog which is shown, depending on
the windowmanager, in the window decoration, the window list,
and/or if the window is iconified. This must be either a file
name (prefix "%/") or empty.</P
></DD
><DT
>-modal</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>boolean</SPAN
> (default: 1)
            </P
><P
>Whether the window is modal, i.e. it grabs all GTK+ events.</P
></DD
><DT
>-name</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
>
            </P
><P
>Name of the widget, can be used to set options in an rc file.</P
></DD
><DT
>-onDelete</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Tcl command which is executed if the widget shall be deleted.
If the command returns 0, the widget is not deleted.
Before evaluation the
following percent strings are substituated:
TABLE
%% | %
%w | widget name.
TABLE</P
></DD
><DT
>-onDestroy</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Tcl command which is executed if the widget is destroyed.
Before evaluation the
following percent strings are substituated:
TABLE
%% | %
%w | widget name.
TABLE</P
></DD
><DT
>-onDragData</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Tcl command which is executed if data is draged from
this the widget to another. This command must return
the data to be draged.
Before evaluation the
following percent strings are substituated:
TABLE
%% | %
%w | widget name
%t | time
%T | type of data
TABLE</P
></DD
><DT
>-onDropData</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Tcl command which is executed if data is dropped on the widget.
Before evaluation the
following percent strings are substituated:
TABLE
%% | %
%w | widget name
%d | data
%l | length of data
%t | time
%T | type of data
%x | x coordinate
%y | y coordinate
TABLE</P
></DD
><DT
>-onKeyPress</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Tcl command which is executed if a key is pressed
while the widget is having the focus.
Before evaluation the
following percent strings are substituated:
TABLE
%% | %
%w | widget name
%k | key code as integer
%K | key code as symbol
%a | unicode unicode character, or the empty string if there is no corresponding character.
%s | state of the buttons and modifiers (bitmask)
TABLE</P
></DD
><DT
>-onKeyRelease</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Tcl command which is executed if a key is released
while the widget is having the focus.
Before evaluation the
following percent strings are substituated:
TABLE
%% | %
%w | widget name
%k | key code as integer
%K | key code as symbol
%a | unicode unicode character, or the empty string if there is no corresponding character.
%s | state of the buttons and modifiers (bitmask)
TABLE</P
></DD
><DT
>-onPopupMenu</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Tcl command which is executed if the "popup-menu" signal
is recieved, which is normally the case if the user presses
Shift-F10.
Before evaluation the
following percent strings are substituated:
%w by widget name.</P
></DD
><DT
>-onRealize</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Tcl command whih is executed in the global scope if
the widget has been realized.
Before evaluation the following percent strings are
substituated:
TABLE
%% | %
%w | widget name.
TABLE</P
></DD
><DT
>-onResponse</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "break")
            </P
><P
>Tcl command which is executed if a button is chosen.
If the command returns the return code TCL_BREAK,
as it is the default, the dialog is closed.
onResponse returns TCL_BREAK if either the last
command of onResponse
is "break", or the tcl procedure which is called
as last command in onResponse exits with
"return -code break".
Before evaluation the
following percent strings are substituted:
TABLE
%% | %
%v | text of the button chosen, or "#NONE" or "#DELETE"
TABLE</P
></DD
><DT
>-onShowHelp</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Tcl command which is executed in the global scope
if the "show-help" signal
is recieved, which is normally the case if the user presses
F1 or Ctrl-F1.
Before evaluation the following percent strings are
substituated
TABLE
%% | %
%w | widget name
%h | help type: either "whatsThis" or "tooltip"
TABLE</P
></DD
><DT
>-resizable</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>boolean</SPAN
> (default: 1)
            </P
><P
>Whether the user can change the size of the window.</P
></DD
><DT
>-text</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
>
            </P
><P
>The text to be shown. This option or -child is required.</P
></DD
><DT
>-title</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
> (default: "")
            </P
><P
>Title of the dialog.</P
></DD
><DT
>-tooltip</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>string</SPAN
>
            </P
><P
>Message that appear next to this widget when the mouse
pointer is held over it for a short amount of time.</P
></DD
><DT
>-type</DT
><DD
><P
>type: <SPAN
CLASS="TYPE"
>ONEOF info warning question error</SPAN
>
            </P
><P
>Type of the dialog. This determines the icon which is
displayed. If the option -text is given, the default is
info, if option -child is given, the default is to display
no icon.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN768"
></A
><H2
>Description</H2
><P
>dialog is a top level window with an icon,
(which option -child is given, this is optional)
some text or other widgets as content and one or more buttons.
It could be created with
the Gnocl low level commands, but dialog makes it
very simple to inform the user with a standardized interface.
If dialog is modal, which is the default, the dialog command does
not return a window ID. Instead it returns the text of the button
chosen, or "#DELETE" if the window is deleted, for example by clicking
the close button in the window frame. If dialog is
not modal, a window ID is returned as in all other Gnocl widget
commands, and the button chosen can
be determined by the callback function onResponse.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN771"
></A
><H2
>Commands</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><P
><B
CLASS="COMMAND"
><TT
CLASS="REPLACEABLE"
><I
>id</I
></TT
></B
>   delete </P
></DT
><DD
><P
> Deletes the widget and the associated tcl command.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN782"
></A
><H2
>Example</H2
><P
><PRE
CLASS="PROGRAMLISTING"
>proc responseProc { val } {
   if { "Yes" == $val } {
      return -code break
   } else {
      gnocl::dialog -type question -text "Are you sure?" -buttons %#No 
   }
}
gnocl::dialog -type question -text "Do you like Gnocl?" -buttons "%#No {{%_I _like it} %#Yes}" -onResponse "responseProc %v"</PRE
></P
><P
>results in</P
><P
><IMG
SRC="../pics/dialog.png"></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN789"
></A
><H2
>See also</H2
><P
>   <A
HREF="r796.html"
><B
CLASS="COMMAND"
>window</B
></A
>,
   <CODE
CLASS="FUNCTION"
>GtkDialog</CODE
>,
   <CODE
CLASS="FUNCTION"
>GtkMessageDialog</CODE
></P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x351.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="r796.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Commands</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="x351.html#AEN583"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>window</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>